=============================================================

HP Firmware Upgrade Utility for Linux v3.25, 02/25/2025
(c) Copyright 2025 HP Development Company, L.P.

=============================================================

The hp-flash utility is designed to update the computer system firmware
(UEFI BIOS) from a Linux environment.

In order to use hp-flash, the hpuefi loadable kernel module (driver) must
be loaded (inserted) and connected to /dev/hpuefi.

Note: This utility requires administrator (superuser) priveleges to execute.


BIOS VERSION UPDATE:
____________________

The hp-flash utility requires a BIOS binary image file to update the System
BIOS. Not all HP Desktop systems are compatible with this version of
the hp-flash utility.  If the utility is run on a system that does not
support it, an error message will say so.

The hp-flash utility can update a system BIOS without requiring the
administrator to enter a Setup password if the unit has not already been
assigned a Setup password. However, if a Setup password is set on the target
PC, then the flash utility will require password verification before allowing
a BIOS update, or the process will report an error. The Setup password must be
provided in the command line when the hp-flash utility is executed, using the
-p option. See below for syntax description.


CUSTOM LOGO IMAGE UPDATE:
_________________________

The hp-flash utility allows for replacing the standard HP logo image with a
custom image provided by the user. Valid image files are JPEG or uncompressed
BMP (bitmap) images up to 1024 x 768 resolution. The maximum file size differs
from system to system, but will be between 22KB and 32KB.  The command line
switch "-i" followed by the image filename will write the custom logo to the
BIOS. When using hp-flash to change the logo, the System BIOS is not updated
at the same time.  The custom image can be deleted (restoring the standard HP
logo) with the "-i delete" option.


COMMAND LINE SWITCHES (case sensitive):
_______________________________________

Usage: hp-flash [-q -y -h -?] [-p admin_password] [-i] filename
            -q  (Quiet Mode)    - Minimize text output
            -y  (Yes Mode)      - Answer Yes to everything (non-interactive)
            -h, -?              - Show this help message
            -p admin_password   - Input BIOS Admin Password
            -cspwdfile pwdfile  - Input Current BIOS Setup Password File
            -i filename|delete  - Flash (or delete) a custom startup logo image
            filename            - ROM binary or image file to flash

To suppress confirmation prompts (for non-interactive deployments), use the
-y switch.


USE CASES:
__________


hp-flash J01_0212.bin
   This will attempt to update the System BIOS to the version contained in
   the supplied BIOS binary image (J01_0212.bin). Assumes no BIOS Setup password
   is set.

hp-flash -q J01_0212.bin
   This will attempt to update the System BIOS to the version contained in
   the supplied BIOS binary image (J01_0212.bin), while minimizing generated
   output (e.g., no percentage indicators are displayed). Assumes no BIOS
   Setup password is set.

hp-flash -p Admin123 J01_0212.bin
hp-flash -cspwdfile HpqPswd.bin J01_0212.bin
   This will attempt to update the System BIOS to the version contained in
   the supplied BIOS binary image (J01_0212.bin), using "Admin123" (-p option)
   or HpqPswd.bin (-cspwdfile option using the HpqPswd.bin file generated by
   the Windows-only HpqPswd.exe or HpqPswd64.exe encryption tools) as the BIOS
   Setup password for authentication.

hp-flash -y -p Admin123 J01_0212.bin
   This will attempt to update the System BIOS to the version contained in
   the supplied BIOS binary image (J01_0212.bin), in a non-interactive manner,
   using "Admin123" as the BIOS Setup password for authentication.

hp-flash -i custom.jpg
   This will update the system startup logo using "custom.jpg" as the image.
   This syntax implies that there is no BIOS Setup password set.

hp-flash -i delete
   This will delete a custom startup logo from the system. The default HP logo
   will be used after reboot. This syntax implies that there is no BIOS
   Setup password set.

hp-flash -p Admin123 -i delete
   This will delete a custom startup logo from the system. The default HP logo
   will be used after reboot. Uses "Admin123" as the BIOS Setup password
   for authentication.

hp-flash -y -p Admin123 -i custom.jpg
   This will update the system startup logo using "custom.jpg" as the image, 
   authenticating with a BIOS Setup password of "Admin123" and suppressing
   prompts.


ERROR LEVELS:
_____________

   SUCCESS                      (0)   Utility successfully performed its task
   ERROR_PASSWORD_INVALID       (1)   Invalid password
   ERROR_FILE_OPEN              (2)   Unable to open file
   ERROR_FILE_TOO_LARGE         (3)   File too large
   ERROR_FILE_READ              (4)   Unable to read file
   ERROR_LOGO_FLASH_FAILED      (5)   Failure during image (logo) flash
   ERROR_FLASH_BINARY_SIZE      (6)   Wrong sized ROM binary
   ERROR_FLASH_QUERY_FAILED     (7)   ROM query returned failure
   ERROR_FLASH_BUFFER_FAILURE   (8)   Failure while buffering the ROM
   ERROR_FLASH_FAILURE          (9)   Failure during ROM flash
   ERROR_SMI_CMD_GET          (128)   Unable to get SMI command from ACPI
   ERROR_IO_PERMISSION        (129)   Unable to get sufficient I/O permissions
   ERROR_HPUEFIDEVICE_OPEN    (130)   Unable to open hpuefi device
   ERROR_HPUEFIDEVICE_MMAP    (131)   Unable to map memory for hpuefi device
   ERROR_USER_ABORT           (132)   User aborted operation
   ERROR_INVALID_ARGUMENT     (133)   Invalid command line argument specified

_____________________________________________________________________________

(c) Copyright 2025 HP Development Company, L.P.

Product names mentioned herein may be trademarks and/or registered trademarks 
of their respective companies.
