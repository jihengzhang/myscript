=============================================================

HP Replicated Setup Utility for Linux v3.25, 02/25/2025
(c) Copyright 2025 HP Development Company, L.P.

=============================================================

The Replicated Setup (hp-repsetup) Utility is designed to allow settings of
systems with UEFI BIOS architecture to be "replicated" throughout an
enterprise.

In order to use hp-repsetup, the hpuefi loadable kernel module (driver) must
be loaded (inserted) and connected to /dev/hpuefi.

Note: This utility requires administrator (superuser) priveleges to execute.

Using Replicated Setup to configure a Desktop system requires a text file in
UCS-2 format (UTF-16 Unicode with fixed-width 16-bit characters), typically
generated by hp-repsetup or similar method, which specifies the BIOS settings
and appropriate selection for each feature.

The default filename for this text file is HPSETUP.TXT. See below for
example syntax. Using a common setup file allows multiple Desktops to have
identical BIOS settings, configurable with an automated and simple process.
 
Most settings do not take effect until the system is restarted. Not all
settings available in the BIOS Setup user interface are configurable using
this method.

For best results the HPSETUP.TXT file should be generated from a unit using
the same BIOS name as the target units (e.g. J01 BIOS used on 8200 Elite and
6200 Pro). Make the desired configuration settings manually on the sample
unit, then create the HPSETUP.TXT as described below. You may edit the text
file using any UCS-2 / UTF-16 compatible text editor, in order to remove
settings that need not change, or change a selected option for a specific
feature.  The "*" symbol indicates the selected option in the list of
choices for each feature.

If various BIOS families are being replicated throughout an enterprise,
elements of various HPSETUP.TXT versions can be combined. Any setting in the
HPSETUP.TXT file that is not available in the target unit's BIOS Setup will
be ignored and will not affect that particular unit.


COMMAND LINE SWITCHES (case sensitive):
_______________________________________

Usage: hp-repsetup [-g -s -q -a -h -?] [-p admin_password] [filename]
            -g  (Get Mode)      - Get BIOS settings
            -s  (Set Mode)      - Set BIOS Settings
            -q  (Quiet Mode)    - Minimize text output (default: Verbose Mode)
            -a  (ASCII Mode)    - Create file in ASCII format (default: Unicode UCS-2)*
                                  *Note: ASCII file cannot be imported with other tools
            -h, -?              - Show this help message
            -p admin_password   - Input Current BIOS Setup Password
            -n admin_password   - Input New BIOS Setup Password
            -n /                - Clears the BIOS Setup Password if the current
                                  password is supplied with -p or -cspwdfile
                                  option 
            -cspwdfile pwdfile  - Input Current BIOS Setup Password File
            -nspwdfile pwdfile  - Input New BIOS Setup Password File
            filename            - Optional Name Of File To Save Settings To
                                  Or Restore Settings From (Default is HPSETUP.TXT)


USE CASES:
__________

hp-repsetup
   Reads input file HPSETUP.TXT and writes the settings into the BIOS

hp-repsetup -p password
   Reads input file HPSETUP.TXT and writes the settings into the BIOS if the
   BIOS Setup password is authenticated with "password"

hp-repsetup settings.txt
   Reads the input file settings.txt and writes the settings to the BIOS

hp-repsetup -p password settings.txt
   Reads the input file settings.txt and writes the settings to the BIOS if
   the BIOS Setup password is authenticated with "password"

hp-repsetup -cspwdfile HpqPswd.bin settings.txt
   Reads the input file settings.txt and writes the settings to the BIOS if
   the Windows-only HpqPswd.exe or HpqPswd64.exe encrypted password file
   is authenticated as the current BIOS Setup password.  (-p and -cspwdfile
   examples are equivalent although only one option applies at a time)

hp-repsetup -n password
   Inputs a new BIOS Setup password "password" if one is not set.

hp-repsetup -p password -n newpassword
   Attempts to set new BIOS Setup password "newpassword" (-n option) if the 
   BIOS Setup password "password" (-p option) is authenticated.

hp-repsetup -nspwdfile HpqPswd.bin 
   Inputs a new BIOS Setup password created by Windows-only HpqPswd.exe or
   HpqPswd64.exe encrypted password file.  (-n and -nspwdfile examples are
   equivalent although only one option applies at a time)

hp-repsetup -p password -n /
hp-repsetup -cspwdfile HpqPswd.bin password -n /
   Clears the BIOS Setup password if the BIOS Setup password "password" 
   (-p option) or HpqPswd.bin (-cspwdfile option) is authenticated.  

hp-repsetup -q
   Reads input file HPSETUP.TXT and writes the settings into the BIOS
   without displaying to the screen

hp-repsetup -g
   Reads the settings from the BIOS and puts into file HPSETUP.TXT in UCS-2
   (Unicode) format

hp-repsetup -g settings.txt
   Reads the settings from the BIOS and puts into file settings.txt in UCS-2
   (Unicode) format

hp-repsetup -g -q
   Reads the settings from the BIOS and puts into file HPSETUP.TXT in UCS-2
   (Unicode) format without displaying to the screen

hp-repsetup -q -g
   Identical to hp-repsetup -g -q (the order of the switches is not important)

hp-repsetup -g -a
   Reads the settings from the BIOS and puts into file HPSETUP.TXT in ASCII
   format. ***

*** Important Note: ***
   ASCII formatted files cannot be directly used by other Replicated Setup
   tools or in other environments like F10 Setup.


ERROR LEVELS:
_____________

   SUCCESS                      (0)   Utility successfully performed its task
   ERROR_PASSWORD_INVALID       (1)   Invalid password
   ERROR_FILE_OPEN              (2)   Unable to open file
   ERROR_FILE_TOO_LARGE         (3)   File too large
   ERROR_FILE_READ              (4)   Unable to read file
   ERROR_FILE_WRITE             (5)   Unable to write file
   ERROR_NO_MEMORY              (6)   Unable to allocate enough memory
   ERROR_SMI_CMD_GET          (128)   Unable to get SMI command from ACPI
   ERROR_IO_PERMISSION        (129)   Unable to get sufficient I/O permissions
   ERROR_HPUEFIDEVICE_OPEN    (130)   Unable to open hpuefi device
   ERROR_HPUEFIDEVICE_MMAP    (131)   Unable to map memory for hpuefi device
   ERROR_USER_ABORT           (132)   User aborted operation
   ERROR_INVALID_ARGUMENT     (133)   Invalid command line argument specified
   ERROR_UNSUPPORTED          (134)   Unsupported command specified
   ERROR_SETTING_FAILED       (135)   One or more of the settings has failed
   ERROR_PASSWORD_FAILED      (136)   Attempt to change the BIOS password has failed

_____________________________________________________________________________

(c) Copyright 2025 HP Development Company, L.P.

Product names mentioned herein may be trademarks and/or registered trademarks 
of their respective companies.
